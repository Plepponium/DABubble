<div class="menu">
    <mat-toolbar>
        <div class="toolbar-header">
            <img src="assets/icons/workspace-logo.svg" alt="">
            <span class="font-24 font-w-700 f-nunito">Devspace</span>
        </div>
        
        <span class="example-spacer"></span>
        
        <app-round-btn iconSrc="assets/icons/edit_square.svg"
            iconHoverSrc="assets/icons/edit_square-purple.svg"
            altText="Bearbeiten">
        </app-round-btn>
    </mat-toolbar>

    <div class="menu-content">
        <div class="menu-section">
            <div class="list-header-container">
                <div (click)="toggleChannels()" class="list-header font-20">
                    <img class="arrow-img hover-icon" src="assets/icons/arrow_drop_down.svg" [class.rotated]="!channelsExpanded" alt="">
                    <img class="arrow-img hover-icon-purple" src="assets/icons/arrow_drop_down-purple.svg" [class.rotated]="!channelsExpanded" alt="">
                    <div class="list-headline font-w-700">
                        <img class="hover-icon" src="assets/icons/workspaces.svg" alt="">
                        <img class="hover-icon-purple" src="assets/icons/workspaces-purple.svg" alt="">
                        Channels
                    </div>
                </div>

                <button class="add-channel-btn" (click)="addChannel($event)">
                    <img class="add-channel" src="assets/icons/add.svg" alt="">
                    <img class="add-channel-purple" src="assets/icons/add-purple.svg" alt="">
                </button>
            </div>


            <div class="channel-section" *ngIf="channelsExpanded">
                <div class="channel-list">
                    <div class="channel">
                        <div class="channel-icon">#</div>
                        <div>Entwickler-Team</div>
                    </div>
                    <div class="channel active">
                        <div>#</div>
                        <div>Office-Team</div>
                    </div>
                </div>

                <div class="sub-section"  (click)="addChannel($event)">
                    <!-- <button mat-icon-button class="example-icon" aria-label="Example icon-button with share icon"> -->
                        <img class="hover-icon" src="assets/icons/add_circle.svg" alt="">
                        <img class="hover-icon-purple" src="assets/icons/add_circle-purple.svg" alt="">
                    <!-- </button> -->
                    Channel hinzufügen
                </div>
            </div>
            
        </div>
        
        <div class="menu-section">
            <div class="list-header-container">
                <div (click)="toggleUsers()" class="list-header font-20">
                    <img class="arrow-img hover-icon" src="assets/icons/arrow_drop_down.svg" [class.rotated]="!usersExpanded" alt="">
                    <img class="arrow-img hover-icon-purple" src="assets/icons/arrow_drop_down-purple.svg" [class.rotated]="!usersExpanded" alt="">
                    <div class="list-headline font-w-700">
                        <img class="hover-icon" src="assets/icons/account_circle.svg" alt="">
                        <img class="hover-icon-purple" src="assets/icons/account_circle-purple.svg" alt="">
                        Direktnachrichten
                    </div>
                </div>
            </div>

            <!-- <div class="user-list" *ngIf="usersExpanded">
                <div class="user">
                    <div class="img-container">
                        <img class="user-img" src="assets/user-icons/icon3.svg" alt="">
                        <div class="online-signal online"></div>
                    </div> 
                    Frederick Beck (Du)
                </div>
                <div class="user">
                    <div class="img-container">
                        <img class="user-img" src="assets/user-icons/icon5.svg" alt="">
                        <div class="online-signal offline"></div>
                    </div> 
                    Sofia Müller
                </div>
            </div> -->
            <div class="user-list" *ngIf="usersExpanded">
                <div class="user" *ngFor="let user of users$ | async">
                    <div class="img-container">
                    <img class="user-img" [src]="'assets/user-icons/' + user.img + '.svg'" [alt]="user.name">
                    <div class="online-signal" [ngClass]="{'online': user.presence, 'offline': !user.presence}"></div>
                    </div> 
                    {{ user.name }}  
                    <!-- <span *ngIf="user.isCurrentUser">(Du)</span>  -->
                    <!-- optional, je nach Daten -->
                </div>
            </div>
        </div>
    </div>
    
</div>
